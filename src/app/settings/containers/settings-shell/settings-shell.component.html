<app-main-toolbar></app-main-toolbar>

<section class="p-3">
  <h2>Settings</h2>

  <mat-card>
    <mat-card-title>Your Data</mat-card-title>
    <mat-card-content class="py-3">
      <h3>Backup</h3>

      <div class="d-flex align-items-center mb-3">
        <input
          type="file"
          class="d-none"
          [accept]="requiredFileType"
          (change)="onFileSelected($event)"
          #fileUpload
        />
        <button
          [disabled]="loading$ | async"
          mat-flat-button
          color="primary"
          (click)="fileUpload.click()"
        >
          RESTORE FINANCIUS BACKUP
          <mat-icon>cloud_upload</mat-icon>
        </button>

        <span class="mx-2">{{ fileName }}</span>

        <mat-spinner
          *ngIf="loading$ | async"
          color="accent"
          mode="indeterminate"
          diameter="24"
        ></mat-spinner>
      </div>

      <div class="d-flex align-items-center">
        <button
          [disabled]="loading$ | async"
          mat-flat-button
          color="primary"
          (click)="onExportClick()"
        >
          EXPORT FINANCIUS BACKUP
          <mat-icon>cloud_download</mat-icon>
        </button>
      </div>
    </mat-card-content>
  </mat-card>
</section>
