<app-main-toolbar></app-main-toolbar>

<ng-container *ngIf="vm$ | async as vm">
  <mat-progress-bar
    *ngIf="vm.loading; else showContent"
    color="accent"
    mode="indeterminate"
  ></mat-progress-bar>

  <ng-template #showContent>
    <section class="container">
      <div class="d-flex justify-content-end mt-2">
        <app-period-selector
          [selectedValue]="selectedPeriod"
          (periodChange)="onSelectedPeriodChange($event)"
        ></app-period-selector>
      </div>

      <app-category-report
        [transactions]="vm.filteredExpenses"
        [loading]="vm.loading"
        [title]="vm.periodLabel"
        (periodChange)="onPeriodChange($event)"
      ></app-category-report>
    </section>
  </ng-template>
</ng-container>
